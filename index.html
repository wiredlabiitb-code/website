<!DOCTYPE html>
<html>
<head>
  <title>Lab Members</title>

  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    .grid { display:flex; flex-wrap:wrap; gap:20px; }
    .card {
      width:250px;
      padding:15px;
      border-radius:10px;
      box-shadow:0 2px 8px rgba(0,0,0,0.1);
      background:white;
      transition: transform 0.2s ease;
    }
    .card:hover { transform: translateY(-4px); }
    .photo {
      width:100%;
      aspect-ratio:1/1;
      object-fit:cover;
      border-radius:50%;
    }
    .role { font-weight:bold; color:#444; margin-bottom:6px; }

    /* Skeleton loading */
    .skeleton .ph {
      width:100%;
      aspect-ratio:1/1;
      border-radius:50%;
      background:#eee;
    }
    .skeleton .line {
      height:12px;
      background:#eee;
      margin:10px 0;
      border-radius:6px;
    }
    .w60{width:60%} .w40{width:40%}
  </style>
</head>

<body>

<h2>Active Members</h2>
<div id="active" class="grid">
  <!-- Placeholder while loading -->
  <div class="card skeleton">
    <div class="ph"></div>
    <div class="line w60"></div>
    <div class="line w40"></div>
  </div>
</div>

<div id="alumni-section" style="display:none;">
  <h2>Alumni</h2>
  <div id="alumni" class="grid"></div>
</div>

<script>
fetch("https://wiredlabiitb-code.github.io/website/members.json")
.then(res => res.json())
.then(data => {

  function makeCard(m) {
    return `
      <div class="card">
        <img src="${m.photo}" class="photo" loading="lazy">
        <h3>${m["Full Name"]}</h3>
        <p class="role">${m["Role"]}</p>
        <p><strong>Research:</strong> ${m["Research Interests"]}</p>
        <p><strong>Hobbies:</strong> ${m["Hobbies"]}</p>
        ${m["Personal Website"] ? `<a href="${m["Personal Website"]}" target="_blank">Website</a>` : ``}
      </div>
    `;
  }

  document.getElementById("active").innerHTML =
    data.active.map(makeCard).join("");

  if (data.alumni && data.alumni.length > 0) {
    document.getElementById("alumni-section").style.display = "block";
    document.getElementById("alumni").innerHTML =
      data.alumni.map(makeCard).join("");
  }
})
.catch(err => {
  document.getElementById("active").innerHTML = "<p>Error loading members.</p>";
  console.error(err);
});
</script>

</body>
</html>
