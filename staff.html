<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Lab Staff</title>

<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background: #fafafa;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
  }

  section {
    margin-bottom: 60px;
  }

  h2 {
    border-bottom: 2px solid #ddd;
    padding-bottom: 6px;
  }

  /* Grid with fixed card width */
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, 220x);
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
  }

  /* Card styling */
  .card {
    width: 180px;
    background: white;
    padding: 18px;
    border-radius: 12px;
    border: 1px solid #ddd;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  }

  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 18px rgba(0,0,0,0.12);
    border-color: #bbb;
  }

  .card h3 {
    margin: 8px 0 4px 0;
  }

  .card p {
    margin: 4px 0;
  }

  /* Circular photo */
  .photo {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    object-position: center;
    display: block;
    margin: 0 auto 12px auto;
    border: 2px solid #eee;
  }

  .role {
    color: #666;
    font-size: 14px;
    margin-bottom: 8px;
  }

  a {
    display: inline-block;
    margin-top: 6px;
    color: #0066cc;
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }
</style>
</head>

<body>

<script>
async function loadSection(url, title) {
  const res = await fetch(url);
  if (!res.ok) return;

  const members = await res.json();
  if (!members.length) return;

  const section = document.createElement("section");
  const h2 = document.createElement("h2");
  h2.textContent = title;
  section.appendChild(h2);

  const grid = document.createElement("div");
  grid.className = "grid";

  const frag = document.createDocumentFragment();
  members.forEach(m => frag.appendChild(makeCard(m)));

  grid.appendChild(frag);
  section.appendChild(grid);
  document.body.appendChild(section);
}

function makeCard(m) {
  const card = document.createElement("div");
  card.className = "card";

  card.innerHTML = `
    <img class="photo"
         src="${m.photo || 'default-profile.png'}"
         alt="${m["Full Name"] || "Profile photo"}"
         loading="lazy">

    <h3>${m["Full Name"] || ""}</h3>
    <p class="role">${m["Role"] || ""}</p>

    ${m["Research Interests"] ? `<p><strong>Research:</strong> ${m["Research Interests"]}</p>` : ""}
    ${m["Hobbies"] ? `<p><strong>Hobbies:</strong> ${m["Hobbies"]}</p>` : ""}
    ${m["Personal Website"] ? `<a href="${m["Personal Website"]}" target="_blank">Website</a>` : ""}
  `;

  return card;
}

(async function(){
  await loadSection("data/staff.json", "Staff");
})();
</script>

</body>
</html>
